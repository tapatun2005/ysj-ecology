{% macro Navbar(menuItems) -%}

  <nav class="navbar navbar-expand-md navbar-light bg-primary">

    <div class="container">

      <a class="navbar-brand" href="/">
        <svg xmlns="http://www.w3.org/2000/svg" width="109.25" height="18.874" viewBox="0 0 109.25 18.874">
          <defs>
            <style>
              .logo-line {
                fill: none;
                stroke: #000;
                stroke-width: 1.5px;
              }
            </style>
          </defs>
          <line class="logo-line" y1="0.161" x2="26.26" transform="translate(27.746 9.342)"/>
          <g transform="translate(0 0.366)">
            <path d="M231.262,106.793a2.823,2.823,0,0,0-2.7,2.888c-.01.942.826,2.831,2.7,5.048,1.874-2.217,2.71-4.106,2.7-5.048a2.824,2.824,0,0,0-2.7-2.888m8.1,16.1-.942-.382a22.523,22.523,0,0,1-7.163-4.976,22.505,22.505,0,0,1-7.162,4.976l-.943.382-4.776-18.271h1.91l4.087,15.639a21.62,21.62,0,0,0,5.6-4.124c-1.235-1.451-3.273-4.194-3.25-6.473a5.041,5.041,0,0,1,1.337-3.408,4.323,4.323,0,0,1,6.4,0,5.048,5.048,0,0,1,1.336,3.408c.024,2.279-2.016,5.022-3.251,6.473a21.621,21.621,0,0,0,5.6,4.124l4.088-15.64h1.91Z" transform="translate(-218.38 -104.616)"/>
          </g>
          <g transform="translate(57.474)">
            <path d="M467.971,197.2c0-3.29-2.057-5.415-5.24-5.415h-6.37v18.441H458.1v-7.585h4.646l.283-.017,4.041,7.6h1.953l-4.206-7.941C466.852,201.533,467.971,199.738,467.971,197.2Zm-9.875-3.735h4.477a3.737,3.737,0,0,1,0,7.471H458.1Z" transform="translate(-456.361 -191.566)"/>
            <rect width="1.735" height="18.441" transform="translate(16.424 0.217)"/>
            <path d="M531.325,199.693c-2.867-.705-4.364-1.18-4.364-3.476,0-2.081,1.551-3.374,4.047-3.374,2.353,0,3.858,1.259,4.026,3.368l.017.21,1.73-.125-.013-.213c-.18-2.989-2.45-4.92-5.782-4.92-3.513,0-5.783,2-5.783,5.1,0,3.648,2.824,4.372,5.557,5.073,3.252.79,4.815,1.271,4.815,3.572,0,3.111-3.02,3.446-4.319,3.446-2.627,0-4.518-1.451-4.7-3.61l-.018-.208-1.753.125.015.215c.223,3.134,2.759,5.159,6.46,5.159,3.748,0,6.076-2,6.076-5.223C537.333,201.393,534.843,200.534,531.325,199.693Z" transform="translate(-502.329 -191.163)"/>
            <path d="M580.177,199.784l6.974-8h-2.266l-7.689,8.8v-8.8h-1.735v18.441H577.2V203.3l1.824-2.094,6.943,9.015h2.19Z" transform="translate(-536.377 -191.566)"/>
          </g>
        </svg>
      </a>

      <button
          class="navbar-toggler"
          type="button"
          data-js="NavCollapse"
          data-js-options='[{"target": "#main-nav"}]'
          aria-controls="main-nav"
          aria-expanded="false"
          aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        <span class="visually-hidden">Menu</span>
      </button>

      <div class="collapse navbar-collapse" id="main-nav">

        <ul class="navbar-desktop navbar-nav ms-auto d-none d-md-flex" id="desktop-nav">
          {% for item in menuItems %}
            {% if item.children.length %}
              <li class="nav-item dropdown" data-js="Dropdown">
                <a class="nav-link dropdown-toggle js-toggler" href="{{ item.href }}" id="dropdown{{ loop.index }}" role="button" aria-haspopup="true" aria-expanded="false">
                  {{ item.label }}
                </a>
                <div class="dropdown-menu js-dropdown" aria-labelledby="dropdown{{ loop.index }}">
                  <div class="container-md px-9 py-7">
                    <div class="row">
                      <div class="h3 col-6">
                        {{ item.label }} ->
                    </div>
                      <div class="col-6">
                        <div class="row">
                          {% for child in item.children %}
                            <div class="col-6 pb-5">
                              <a class="dropdown-item" href="{{ child.href }}">
                                {{ child.label }} ->
                              </a>
                            </div>
                          {% endfor %}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </li>
            {% else %}
              <li class="nav-item">
                <a class="nav-link" href="{{ item.href }}">
                  {{ item.label }}
                </a>
              </li>
            {% endif %}
          {% endfor %}
        </ul>

        <ul class="navbar-mobile navbar-nav ms-auto d-md-none"  id="mobile-nav">
          {% for item in menuItems %}
            {% if item.children.length %}
              <li class="nav-item mt-5 dropdown" data-js="Dropdown">
                <a class="nav-link dropdown-toggle js-toggler" href="{{ item.href }}" id="dropdown{{ loop.index }}" role="button" aria-haspopup="true" aria-expanded="false">
                  {{ item.label }}
                </a>
                <div class="dropdown-menu js-dropdown" aria-labelledby="dropdown{{ loop.index }}">
                  {% for child in item.children %}
                    <a class="dropdown-item pt-3" href="{{ child.href }}">
                      {{ child.label }} ->
                      </a>
                  {% endfor %}
                </div>
              </div>
            </li>
          {% else %}
            <li class="nav-item mt-5">
              <a class="nav-link" href="{{ item.href }}">
                {{ item.label }}
              </a>
            </li>
          {% endif %}
        {% endfor %}
      </ul>

    </div>

  </div>

</nav>

{% endmacro %}

{{ Navbar(
  [
    {
      "label": "Item",
      "href": "#"
    },
    {
      "label": "Parent",
      "href": "#",
      "children": [
        {
          "label": "Sub item 1",
          "href": "#"
        },
        {
          "label": "Sub item 2",
          "href": "#"
        }
      ]
    }
  ]
) }}